{"code":"let Actor_getPlayerOwner = NativeFunction.fromSymbol(\"?getPlayerOwner@Actor@@QEBAPEAVPlayer@@XZ\"); //Actor::getPlayerOwner(Actor * this)\r\nlet FishingHook_serverHooked = NativeFunction.fromSymbol(\"?_serverHooked@FishingHook@@IEAA_NXZ\"); //FishingHook::_serverHooked(FishingHook *this)\r\nvar _updateServer = NativeFunction.fromDescription(NativeTypes.Void, [NativeTypes.Pointer]);\r\n_updateServer.address.fromSymbol(\"?_updateServer@FishingHook@@IEAAXXZ\");\r\nclass FishingHook {\r\n    ptr;\r\n    constructor(ptr) {\r\n        this.ptr = ptr;\r\n    }\r\n    ;\r\n    getPlayerOwner() {\r\n        return Actor_getPlayerOwner.call(this.ptr);\r\n    }\r\n    serverHooked() {\r\n        return FishingHook_serverHooked.call(this.ptr);\r\n    }\r\n}\r\nexport var AutoFish;\r\n(function (AutoFish_1) {\r\n    var fishingHook = new Map();\r\n    function AutoFish(a1) {\r\n        let player = a1.getPlayerOwner();\r\n        if (a1.serverHooked() && !fishingHook.has(a1)) {\r\n            if (!fishingHook.has(a1)) {\r\n                fishingHook.set(a1, 0);\r\n                return;\r\n            }\r\n        }\r\n        else if (a1.serverHooked() && fishingHook.get(a1) == 0) {\r\n            fishingHook.set(a1, 1);\r\n            return;\r\n        }\r\n        else if (!a1.serverHooked() && fishingHook.get(a1) == 1) {\r\n            player.sendText(\"AutoFish\");\r\n        }\r\n    }\r\n    AutoFish_1.AutoFish = AutoFish;\r\n    function InitHook() {\r\n        var original_updateServer = _updateServer.hook(function (fishhookptr) {\r\n            let fishhook = new FishingHook(fishhookptr);\r\n            AutoFish(fishhook);\r\n            original_updateServer.call(fishhookptr);\r\n        });\r\n    }\r\n    AutoFish_1.InitHook = InitHook;\r\n})(AutoFish || (AutoFish = {}));\r\n","references":[]}
